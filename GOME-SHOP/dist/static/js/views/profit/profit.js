webpackJsonp([20],{155:function(t,e,n){n(341);var a=n(0)(n(271),n(404),null,null);t.exports=a.exports},203:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n(10),r=function(t){return n.i(a.a)("selectRebate",t)}},226:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),r=n.n(a),o=n(6),s=n.n(o),i=n(1),c=n(155),u=n.n(c),l=n(3),d=(n.n(l),n(5)),f=(n.n(d),n(2)),p=n.n(f),v=n(4),h=(n.n(v),n(12)),g=n(9),m=function(){var t=s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.default.getHeader();case 2:new i.default({render:function(t){return t(u.a)}}).$mount("#app");case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();i.default.use(p.a),h.default.connectWebViewJavascriptBridge(m),h.default.setupWebViewJavascriptBridge(m)},271:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),r=n.n(a),o=n(6),s=n.n(o),i=n(203),c=n(9);e.default={data:function(){return{active:"",showPage:!1,tabs:[{title:"待入账",total:""},{title:"已入账",total:""}],accounted:[],waitAccount:[],container:[],myInfo:{userId:"",shopId:""},options:{userId:"",shopId:"",status:"",pageNum:1,pageSize:1e4}}},created:function(){var t=this;return s()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.hash,a=Number(n.substring(1)),e.next=4,t.getApiProfitData(0);case 4:return t.waitAccount=e.sent,e.next=7,t.getApiProfitData(1);case 7:t.accounted=e.sent,t.active=a;case 9:case"end":return e.stop()}},e,t)}))()},watch:{active:function(t){0===t&&(this.container=this.waitAccount),1===t&&(this.container=this.accounted)}},methods:{toFindGoods:function(){c.default.findGoods().then(function(t){}).catch(function(t){console.log("err--find goods:",t)})},getApiProfitData:function(t){var e=this;return s()(r.a.mark(function a(){var o,s,u,l,d,f;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==t&&1!==t||(e.options.status=t+1),e.options.userId&&e.options.shopId){a.next=9;break}return console.log("start",t),a.next=5,c.default.getMyInfo();case 5:o=a.sent,console.log("end",t),e.options.userId=o.userId,e.options.shopId=o.shopId;case 9:return a.next=11,n.i(i.a)(e.options);case 11:if(s=a.sent,0!==s.data.code){a.next=21;break}if(e.showPage=!0,u=e.getTotalMoney(s.data.data.rebateDetails),e.tabs[t].total=Number(u)?(Number(u)/100).toFixed(2):"0.00",l=[],s.data.data.rebateDetails.length>0)for(d=0;d<s.data.data.rebateDetails.length;d++)f=s.data.data.rebateDetails[d],f.money=Number(f.money)?(Number(f.money)/100).toFixed(2):"0.00",f.orderItemTime=e.timestampToTime(f.orderItemTime),l.push(f);return a.abrupt("return",l);case 21:return e.showPage=!1,console.log("err1:",s.data.msg),a.abrupt("return",[]);case 24:case"end":return a.stop()}},a,e)}))()},handleTabClick:function(t){var e=this;return s()(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getApiProfitData(t);case 2:a=n.sent,0===t?e.waitAccount=a:1===t&&(e.accounted=a),e.active=t;case 5:case"end":return n.stop()}},n,e)}))()},getTotalMoney:function(t){return t.length?t.reduce(function(t,e){return t+e.money},0):0},timestampToTime:function(t){var e=void 0;return e=10===t.length?new Date(1e3*t):new Date(t),e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "},getHtmlTitle:function(t,e){return'<span class="vu-tab--title">'+t+'</span>\n          <span class="vu-tab--money">('+e+")</span>"}}}},341:function(t,e){},404:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.showPage?n("div",{staticClass:"md-profit-details"},[n("vu-tabs",{attrs:{active:t.active,type:"card"},on:{click:t.handleTabClick}},t._l(t.tabs,function(e,a){return n("vu-tab",{key:a,attrs:{title:t.getHtmlTitle(e.title,e.total)}},[t.container.length?n("ul",t._l(t.container,function(e){return n("li",[n("vu-cell",{attrs:{title:""+e.orderItemTime,label:"订单号："+e.orderId}},[n("template",{slot:"content"},[n("span",{staticClass:"van-cell-text"},[t._v(t._s("返现"))]),n("span",{staticClass:"van-cell-text",staticStyle:{color:"#F20C59"}},[t._v("+"+t._s(e.money)+"国美币")])])],2)],1)})):n("div",{staticClass:"no-profit"},[n("span",[t._v("尚未赚到钱")]),t._v(" "),n("span",[t._v("赚到的佣金会展示在这里，去分销商品赚取佣金吧!")]),t._v(" "),n("vu-button",{attrs:{type:"default",size:"normal"},on:{click:t.toFindGoods}},[t._v("去分销赚钱")])],1)])})),t._v(" "),t.container.length&&t.showPage?n("div",{staticClass:"footer-tip"},[t._v("\n\t\t  已经是全部了\n      ")]):t._e()],1):t._e()])},staticRenderFns:[]}}},[226]);